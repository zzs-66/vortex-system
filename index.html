<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>▲ VORTEX ANALYTICS ▲</title>
    <style>
        :root {
            --gold: linear-gradient(45deg, #d4af37 0%, #9c8412 100%);
            --black: #0a0a0a;
            --glow: 0 0 30px rgba(212, 175, 55, 0.3);
        }

        body {
            background: radial-gradient(circle at 50% 100%, 
                    rgba(212, 175, 55, 0.1) 0%, 
                    rgba(0, 0, 0, 0.9) 70%),
                var(--black);
            min-height: 100vh;
            margin: 0;
            font-family: 'Courier New', monospace;
            color: #d4af37;
            overflow: hidden;
            position: relative;
        }

        .panel {
            border: 3px solid;
            border-image: var(--gold) 1;
            margin: 2rem;
            padding: 2rem;
            position: relative;
            background: rgba(0, 0, 0, 0.7);
            box-shadow: var(--glow);
        }

        .scanline {
            position: absolute;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                transparent 0%,
                rgba(212,175,55,0.05) 1%,
                transparent 2%
            );
            pointer-events: none;
            animation: scan 3s linear infinite;
        }

        @keyframes scan {
            from { transform: translateY(-100%); }
            to { transform: translateY(100%); }
        }

        .data-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .data-card {
            background: rgba(0, 0, 0, 0.5);
            padding: 1rem;
            border: 1px solid #d4af3755;
            position: relative;
            overflow: hidden;
        }

        .data-card::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 25%,
                rgba(212,175,55,0.1) 50%,
                transparent 75%
            );
            animation: shine 5s infinite linear;
        }

        @keyframes shine {
            100% { transform: translate(50%, 50%); }
        }

        .btn-danger {
            background: var(--gold);
            border: none;
            padding: 1rem 2rem;
            color: #000;
            font-weight: bold;
            cursor: pointer;
            text-transform: uppercase;
            transition: 0.3s;
            position: relative;
            overflow: hidden;
        }

        .btn-danger:hover {
            filter: brightness(1.2);
            box-shadow: var(--glow);
        }

        .legal-disclaimer {
            border: 2px solid #d4af37;
            padding: 1rem;
            margin-bottom: 2rem;
            background: rgba(0, 0, 0, 0.8);
            position: relative;
        }

        .legal-disclaimer::after {
            content: "⚠";
            position: absolute;
            top: -15px;
            right: -15px;
            font-size: 24px;
            color: #ff5555;
            text-shadow: var(--glow);
        }
    </style>
</head>
<body>
    <div class="panel">
        <div class="scanline"></div>
        
        <!-- 法律声明 -->
        <div class="legal-disclaimer">
            <h3>▲ 法律声明▲</h3>
            <p>本系统自动收集设备元数据用于个人测试，数据将加密存储于俄亥俄州服务器，24小时后自动销毁</p>
            <p style="color:#d4af3777;font-size:0.8em">骗你的，我都寄吧不知道怎么销毁</p>
        </div>

        <div class="data-grid" id="dataDisplay">
            <!-- 动态生成数据卡片 -->
        </div>

        <div style="text-align:center">
            <button class="btn-danger" onclick="initiateDeepScan()">INITIATE DEEP SCAN</button>
        </div>
    </div>

    <script>
        // Supabase配置
        const SUPABASE_URL = 'https://yfuljidnzljfklkmuupb.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmdWxqaWRuemxqZmtsa211dXBiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU4MDM5MzEsImV4cCI6MjA2MTM3OTkzMX0.UHoW7xKPOEENYe1PueTrNpeWIumPusgj8FEkxoaQJpo';

        // 高级扫描函数
        const initiateDeepScan = async () => {
            try {
                const fullData = await collectFullTelemetry();
                displayAdvancedData(fullData);
                await submitToSupabase(fullData);
            } catch (error) {
                showHackingEffect(`ERROR: ${error.message}`);
            }
        };

        // 完整数据收集
        const collectFullTelemetry = async () => {
            const baseInfo = {
                timestamp: new Date().toISOString(),
                platform: navigator.platform,
                userAgent: navigator.userAgent,
                hardwareConcurrency: navigator.hardwareConcurrency,
                deviceMemory: navigator.deviceMemory || 'N/A',
                screen: `${screen.width}x${screen.height}@${screen.pixelDepth}bit`,
                colorGamut: screen.colorGamut,
                touchSupport: navigator.maxTouchPoints > 0,
                network: navigator.connection ? {
                    type: navigator.connection.effectiveType,
                    rtt: navigator.connection.rtt,
                    downlink: navigator.connection.downlink
                } : null
            };

            try {
                const ipData = await fetch('https://api.ipify.org?format=json').then(r => r.json());
                baseInfo.network = { ...baseInfo.network, ...ipData };
            } catch {}

            try {
                const geoData = await new Promise((resolve, reject) => {
                    navigator.geolocation.getCurrentPosition(
                        pos => resolve({
                            lat: pos.coords.latitude,
                            lon: pos.coords.longitude,
                            accuracy: pos.coords.accuracy
                        }),
                        reject
                    );
                });
                baseInfo.geo = geoData;
            } catch {}

            return baseInfo;
        };

        // 猎奇数据
        const displayAdvancedData = (data) => {
            const grid = document.getElementById('dataDisplay');
            grid.innerHTML = Object.entries(data).map(([key, value]) => `
                <div class="data-card">
                    <h3>${key.toUpperCase()}</h3>
                    <pre>${JSON.stringify(value, null, 2)}</pre>
                </div>
            `).join('');
        };

        // 数据提交到Supabase
        const submitToSupabase = async (data) => {
            try {
                await fetch(`${SUPABASE_URL}/rest/v1/telemetry`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'apikey': SUPABASE_KEY,
                        'Authorization': `Bearer ${SUPABASE_KEY}`
                    },
                    body: JSON.stringify(data)
                });
                showHackingEffect('DATA UPLOAD COMPLETE');
            } catch (error) {
                throw new Error('SUPABASE CONNECTION FAILED');
            }
        };

        // 逆天无敌
        const showHackingEffect = (text) => {
            const effect = document.createElement('div');
            effect.style = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%,-50%);
                color: #0f0;
                font-size: 2em;
                text-shadow: 0 0 10px #0f0;
                animation: glitch 1s infinite;
            `;
            effect.textContent = text;
            document.body.appendChild(effect);
            setTimeout(() => effect.remove(), 2000);
        };

        // 初始化基础信息
        displayAdvancedData({
            status: 'SYSTEM READY',
            instruction: 'INITIATE DEEP SCAN TO BEGIN'
        });
    </script>
</body>
</html>
